<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Letter</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            text-align: center;
        }
        
        h1 {
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 2.5rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            margin-bottom: 40px;
            color: #7f8c8d;
            font-size: 1.1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.5;
        }
        
        .letter-container {
            position: relative;
            width: 100%;
            height: 500px;
            margin: 0 auto 40px;
            perspective: 1000px;
        }
        
        .envelope {
            position: absolute;
            width: 300px;
            height: 200px;
            background: #e74c3c;
            border-radius: 5px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.5s ease;
            cursor: pointer;
        }
        
        .envelope:before, .envelope:after {
            content: '';
            position: absolute;
            background: #c0392b;
            width: 50%;
            height: 100%;
            border-radius: 5px;
        }
        
        .envelope:before {
            left: 0;
            transform: skewY(40deg);
            transform-origin: 0 100%;
        }
        
        .envelope:after {
            right: 0;
            transform: skewY(-40deg);
            transform-origin: 100% 100%;
        }
        
        .envelope-flap {
            position: absolute;
            width: 300px;
            height: 200px;
            background: #d62c1a;
            border-radius: 5px;
            top: 0;
            left: 0;
            transform-origin: top;
            transform: rotateX(0deg);
            transition: transform 1s ease;
            z-index: 3;
        }
        
        .letter {
            position: absolute;
            width: 280px;
            height: 180px;
            background: #fff;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            padding: 20px;
            text-align: left;
            border-radius: 3px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
            overflow: hidden;
        }
        
        .letter-content {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.8s;
        }
        
        .letter-content h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.8rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .letter-content p {
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 1.05rem;
        }
        
        .letter-content .closing {
            margin-top: 20px;
            text-align: right;
            font-style: italic;
        }
        
        /* Animation classes */
        .envelope.open {
            transform: translate(-50%, -50%) translateY(-100px);
            z-index: 1;
        }
        
        .envelope-flap.open {
            transform: rotateX(180deg);
        }
        
        .letter.open {
            display: block;
            animation: letterAppear 1s ease 0.5s forwards;
        }
        
        .letter-content.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        @keyframes letterAppear {
            0% {
                height: 180px;
                top: 50%;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            }
            50% {
                height: 180px;
                top: 50%;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            }
            100% {
                height: 450px;
                top: 0;
                box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            }
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        button {
            padding: 12px 25px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }
        
        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(52, 152, 219, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button#closeBtn {
            background: #95a5a6;
            box-shadow: 0 4px 10px rgba(149, 165, 166, 0.3);
        }
        
        button#closeBtn:hover {
            background: #7f8c8d;
            box-shadow: 0 6px 15px rgba(149, 165, 166, 0.4);
        }
        
        .instructions {
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            max-width: 600px;
            font-size: 0.95rem;
            color: #555;
            line-height: 1.5;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .stamp {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 70px;
            height: 70px;
            background: #f1c40f;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #c0392b;
            font-weight: bold;
            font-size: 0.8rem;
            text-transform: uppercase;
            transform: rotate(15deg);
            z-index: 4;
            border: 2px dashed #c0392b;
        }
        
        /* Responsive design */
        @media (max-width: 650px) {
            .letter-container {
                height: 400px;
            }
            
            .envelope, .envelope-flap {
                width: 250px;
                height: 160px;
            }
            
            .letter {
                width: 230px;
                height: 140px;
            }
            
            @keyframes letterAppear {
                100% {
                    height: 380px;
                    top: 0;
                }
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .letter-content h2 {
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-envelope-open-text"></i>Letter</h1>
        <p class="subtitle">Click the envelope or use the button below to open the letter and reveal its heartfelt contents. A beautiful animation will bring this personal message to life.</p>
        
        <div class="letter-container">
            <div class="stamp">Post<br>Sealed</div>
            <div class="envelope" id="envelope">
                <div class="envelope-flap" id="envelopeFlap"></div>
            </div>
            <div class="letter" id="letter">
                <div class="letter-content" id="letterContent">
                    <h2>My Dearest Friend,</h2>
                    <p>I hope this letter finds you in good health and high spirits. It feels like an eternity since we last spoke, though I know it has only been a few months. So much has happened since then, and I find myself thinking of our conversations and wishing we could have one right now.</p>
                    <p>The autumn leaves have started to fall here, painting the streets in hues of gold and crimson. It reminds me of that fall we spent together at the lake house, drinking hot cocoa by the fireplace and talking until the early hours of the morning.</p>
                    <p>I've recently taken up painting, something I always said I would do but never found the time for. It's both challenging and rewarding, and it makes me wonder what hidden talents you might be nurturing these days.</p>
                    <p>Please write back when you have a moment. I would love to hear about your life, your dreams, and everything in between.</p>
                    <p class="closing">With warmest affection,<br><strong>Alex</strong></p>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button id="openBtn">
                <i class="fas fa-envelope-open"></i> Open Letter
            </button>
            <button id="closeBtn">
                <i class="fas fa-envelope"></i> Close Letter
            </button>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-lightbulb"></i> How to use</h3>
            <p>1. Click the red envelope or the "Open Letter" button to watch the envelope open and reveal the letter</p>
            <p>2. The letter will expand to show its full contents with a smooth animation</p>
            <p>3. Use the "Close Letter" button to reset the animation and close the envelope</p>
            <p>4. The animation is fully responsive and works on all devices</p>
        </div>
    </div>

    <script>
        // Get DOM elements
        const envelope = document.getElementById('envelope');
        const envelopeFlap = document.getElementById('envelopeFlap');
        const letter = document.getElementById('letter');
        const letterContent = document.getElementById('letterContent');
        const openBtn = document.getElementById('openBtn');
        const closeBtn = document.getElementById('closeBtn');
        
        // Open the letter
        function openLetter() {
            // Add open classes for animation
            envelope.classList.add('open');
            envelopeFlap.classList.add('open');
            
            // Show letter after a short delay
            setTimeout(() => {
                letter.classList.add('open');
                
                // Show letter content after letter animation
                setTimeout(() => {
                    letterContent.classList.add('show');
                }, 800);
            }, 500);
            
            // Disable open button, enable close button
            openBtn.disabled = true;
            closeBtn.disabled = false;
        }
        
        // Close the letter
        function closeLetter() {
            // Hide letter content first
            letterContent.classList.remove('show');
            
            // Then hide the letter
            setTimeout(() => {
                letter.classList.remove('open');
                
                // Close envelope after letter hides
                setTimeout(() => {
                    envelope.classList.remove('open');
                    envelopeFlap.classList.remove('open');
                }, 300);
            }, 300);
            
            // Enable open button, disable close button
            openBtn.disabled = false;
            closeBtn.disabled = true;
        }
        
        // Event listeners
        envelope.addEventListener('click', openLetter);
        openBtn.addEventListener('click', openLetter);
        closeBtn.addEventListener('click', closeLetter);
        
        // Initialize with close button disabled
        closeBtn.disabled = true;
        
        // Add some extra interactivity - open letter automatically after 3 seconds on first load
        let firstLoad = true;
        
        window.addEventListener('load', () => {
            if (firstLoad) {
                setTimeout(() => {
                    // Only auto-open if the letter is still closed
                    if (!envelope.classList.contains('open')) {
                        openLetter();
                    }
                }, 3000);
                firstLoad = false;
            }
        });
    </script>
</body>
</html>
